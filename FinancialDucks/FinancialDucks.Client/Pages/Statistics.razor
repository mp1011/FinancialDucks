@page "/statistics"
@using FinancialDucks.Application.Features
@using FinancialDucks.Application.Models
@using FinancialDucks.Application.Models.AppModels
@using FinancialDucks.Client.Components
@using FinancialDucks.Client.Components.Statistics

@if (Category != null)
{
    <h3>Statistics: @Category.Name</h3>
}
else
{
    <h3>Statistics</h3>
}

<TransactionsFilterToolbar OnFilterChanged="(f) => CurrentFilter = f" />

<HistoryGraph Filter=@CurrentFilter  />
<CategoryChart Filter=@CurrentFilter  />

@code 
{
    public TransactionsFilter CurrentFilter { get; set; }

    public ICategory Category =>CurrentFilter?.Category;
}